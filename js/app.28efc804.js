(()=>{"use strict";var e={6764:(e,t,r)=>{r(6992),r(8674),r(9601),r(7727);var n=r(9963),l=r(6252),o={class:"app"};function a(e,t,r,n,a,i){var u=(0,l.up)("building");return(0,l.wg)(),(0,l.iD)("div",o,[(0,l.Wm)(u)])}var i={class:"settings"},u={class:"building"},s={class:"floor_column"};function v(e,t,r,o,a,v){var c=this,h=(0,l.up)("shaft"),f=(0,l.up)("floor");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",i,[(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.newAllLevel=e}),class:"settings_input",placeholder:"Введите количество этажей...",type:"number",onKeyup:t[1]||(t[1]=(0,n.D2)((function(e){return v.changeLevel(c.newAllLevel)}),["enter"]))},null,544),[[n.nr,a.newAllLevel]]),(0,l._)("button",{class:"settings_button",type:"button",onClick:t[2]||(t[2]=function(e){return v.changeLevel(c.newAllLevel)})}," ОК ")]),(0,l._)("div",u,[(0,l.Wm)(h),(0,l._)("div",s,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.allLevel,(function(e){return(0,l.wg)(),(0,l.j4)(f,{key:e,floorNumber:e},null,8,["floorNumber"])})),128))])])],64)}var c=r(4648),h=r(3577),f={class:"floor"},d=["disabled"],L={class:"number_floor"};function p(e,t,r,n,o,a){return(0,l.wg)(),(0,l.iD)("div",f,[(0,l._)("button",{class:(0,h.C_)(["button",{button_call:this.includesLevel(r.floorNumber),button_this_call:this.currentLevel===r.floorNumber&&"active"===this.elevatorStatus,button_arrived:this.currentLevel===r.floorNumber&&"arrived"===this.elevatorStatus}]),disabled:this.currentLevel===r.floorNumber,type:"button",onClick:t[0]||(t[0]=function(e){return a.callUpElevator()})},null,10,d),(0,l._)("p",L,(0,h.zw)(r.floorNumber),1)])}var g=r(3907);const b={name:"floor",props:["floorNumber"],computed:(0,c.Z)((0,c.Z)({},(0,g.rn)({currentLevel:function(e){return e.controller.currentLevel},elevatorStatus:function(e){return e.controller.elevatorStatus}})),(0,g.Se)(["includesLevel"])),methods:(0,c.Z)((0,c.Z)({},(0,g.OI)(["addElevatorLevels","changeElevatorStatus","changeElevatorSpeed"])),{},{callUpElevator:function(){this.includesLevel(this.floorNumber)||this.currentLevel==this.floorNumber||"wait"!==this.elevatorStatus?this.includesLevel(this.floorNumber)||this.addElevatorLevels(this.floorNumber):(this.addElevatorLevels(this.floorNumber),this.changeElevatorStatus("start"))}})};var m=r(3744);const w=(0,m.Z)(b,[["render",p],["__scopeId","data-v-22c01eff"]]),S=w;var _={class:"shaft"},E={key:0,class:"tab_info"},N={key:0},y={key:1};function Z(e,t,r,n,o,a){return(0,l.wg)(),(0,l.iD)("div",_,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.allLevel,(function(e){return(0,l.wg)(),(0,l.iD)("div",{class:"shaft_level",key:e})})),128)),(0,l._)("div",{ref:"elevatorBox",class:(0,h.C_)(["elevator_box",{arrived:"arrived"===this.elevatorStatus}]),style:(0,h.j5)([a.speedMove,a.move])},[this.getNextLevel()?((0,l.wg)(),(0,l.iD)("div",E,[(0,l._)("p",null,(0,h.zw)(this.currentLevel),1),"up"===this.direction?((0,l.wg)(),(0,l.iD)("p",N,"▲")):(0,l.kq)("",!0),"down"===this.direction?((0,l.wg)(),(0,l.iD)("p",y,"▼")):(0,l.kq)("",!0)])):(0,l.kq)("",!0)],6)])}r(2564);const k={name:"levelShaft",computed:(0,c.Z)((0,c.Z)((0,c.Z)({},(0,g.rn)({allLevel:function(e){return e.controller.allLevel},currentLevel:function(e){return e.controller.currentLevel},elevatorSpeed:function(e){return e.controller.elevatorSpeed},elevatorStatus:function(e){return e.controller.elevatorStatus},direction:function(e){return e.controller.direction}})),(0,g.Se)(["getNextLevel"])),{},{speedMove:function(){return"transition: transform ".concat(this.elevatorSpeed,"s")},move:function(){return"transform: translateY(".concat(-100*(this.currentLevel-1),"px)")}}),methods:(0,c.Z)((0,c.Z)({},(0,g.OI)(["changeCurrentLevel","changeElevatorStatus","deleteElevatorLevel","changeElevatorSpeed","changeDirection"])),{},{runElevator:function(){var e=this;this.changeElevatorSpeed(Math.abs(this.getNextLevel()-this.currentLevel)),this.changeDirection(this.getNextLevel()>this.currentLevel?"up":"down"),this.changeElevatorStatus("active"),this.changeCurrentLevel(this.getNextLevel()),this.$refs.elevatorBox.ontransitionend=function(){e.changeElevatorStatus("arrived"),setTimeout((function(){e.changeElevatorStatus("wait"),e.deleteElevatorLevel(),e.getNextLevel()&&e.runElevator()}),3e3)}}}),watch:{elevatorStatus:function(e){"start"===e&&this.runElevator()}}},x=(0,m.Z)(k,[["render",Z],["__scopeId","data-v-9e7ebe6c"]]),D=x,O={components:{floor:S,shaft:D},name:"building",data:function(){return{newAllLevel:""}},computed:(0,c.Z)({},(0,g.rn)({allLevel:function(e){return e.controller.allLevel},elevators:function(e){return e.controller.elevators}})),methods:(0,c.Z)((0,c.Z)({},(0,g.OI)(["changeAllLevel","resetCurrentLevel"])),{},{changeLevel:function(e){e<2?(this.resetCurrentLevel(),this.changeAllLevel(2),this.newAllLevel=""):(this.resetCurrentLevel(),this.changeAllLevel(this.newAllLevel),this.newAllLevel="")}})},C=(0,m.Z)(O,[["render",v],["__scopeId","data-v-60e77356"]]),A=C,j={components:{building:A}},I=(0,m.Z)(j,[["render",a]]),M=I;r(6699),r(2023);var T={state:{allLevel:5,currentLevel:1,elevatorLevels:[],elevatorSpeed:"0",elevatorStatus:"wait",direction:"null"},getters:{includesLevel:function(e){return function(t){return e.elevatorLevels.includes(t)}},getNextLevel:function(e){return function(){return e.elevatorLevels[0]}}},mutations:{changeCurrentLevel:function(e,t){e.currentLevel=t},addElevatorLevels:function(e,t){e.elevatorLevels.push(t)},deleteElevatorLevel:function(e){e.elevatorLevels.shift()},changeElevatorSpeed:function(e,t){e.elevatorSpeed=t},changeElevatorStatus:function(e,t){e.elevatorStatus=t},changeDirection:function(e,t){e.direction=t},changeAllLevel:function(e,t){e.allLevel=t},resetCurrentLevel:function(e){e.currentLevel=1,e.elevatorLevels=[],e.elevatorSpeed="0",e.elevatorStatus="wait",e.direction="null"}},actions:{}};const Y=(0,g.MT)({state:{},modules:{controller:T}});(0,n.ri)(M).use(Y).mount("#app")}},t={};function r(n){var l=t[n];if(void 0!==l)return l.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,r),o.exports}r.m=e,(()=>{var e=[];r.O=(t,n,l,o)=>{if(!n){var a=1/0;for(v=0;v<e.length;v++){for(var[n,l,o]=e[v],i=!0,u=0;u<n.length;u++)(!1&o||a>=o)&&Object.keys(r.O).every((e=>r.O[e](n[u])))?n.splice(u--,1):(i=!1,o<a&&(a=o));if(i){e.splice(v--,1);var s=l();void 0!==s&&(t=s)}}return t}o=o||0;for(var v=e.length;v>0&&e[v-1][2]>o;v--)e[v]=e[v-1];e[v]=[n,l,o]}})(),(()=>{r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}})(),(()=>{r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{var e={143:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var l,o,[a,i,u]=n,s=0;if(a.some((t=>0!==e[t]))){for(l in i)r.o(i,l)&&(r.m[l]=i[l]);if(u)var v=u(r)}for(t&&t(n);s<a.length;s++)o=a[s],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return r.O(v)},n=self["webpackChunkElevator_emulator_vue3"]=self["webpackChunkElevator_emulator_vue3"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var n=r.O(void 0,[998],(()=>r(6764)));n=r.O(n)})();
//# sourceMappingURL=app.28efc804.js.map